# ハッカソンに参加しました

これは2023 技育CAMPvol.11の参加レポート記事です
### チーム

[@Aruminium_Bana7](https://twitter.com/Aruminium_Bana7)
[@618knot](https://twitter.com/@618knot)
[俺](@iNoma_main)

特に@Aruminium_Bana7先輩にはめちゃくちゃキャリーしてもらって、この先輩が持ってる大量の経験値をかなりお裾分けしてもらいました

###作ったもの
テキストから感情を読み取って、その感情に合った音楽をレコメンドするというサービスを作りました([デモ動画](https://drive.google.com/file/d/1MO9oVKdgJf4EZtU8Zlz2a7Yhhj_O3RLO/view?usp=share_link))


###仕組み
メインとなる処理が僕視点ではブラックボックス的です

textから感情を抽出する部分は、[過去にAruminium_Bana7先輩が作っていたAPI](https://github.com/Aruminium/emotional-analysis-api)に投げて、結果をpojitive,neutral,negativeの三段階で受け取れます

spotifyAPIに[Recommendationを要求](https://developer.spotify.com/documentation/web-api/reference/#/operations/get-recommendations)するときに、valenceという値を渡すことができます。これは、spotifyが内部でつよつよ音楽信号解析を行うことで推定した[感情価](https://ja.wikipedia.org/wiki/%E6%84%9F%E6%83%85%E4%BE%A1)の値を表しており、先ほど受け取った感情分析の結果をこの値にマッピングすることで、メインの要件を満たすことができます

### 担当
今回はフロント係、バックエンド係とかは決めずに、とにかくたくさんissue立てて、手が空いた人は未着手のissueに自分をアサインしていく、という形で幅広い分野を触りました
この形式の分業をするチーム開発は初めてだったのですが、人的リソースが無駄になりにくいし、知らん技術の勉強にもなるし、結構今の自分には合ってたように思います
後述しますが、タスクの依存関係が少なくなる仕組みが整備されてたからこの分業がうまく機能したのかな、と今振り返ると思いました。

それに加え、プレゼン資料の作成も担当しました。これについては詳しく別の章で書きます。

### 設計
今回、結果的にめちゃくちゃ開発体験が良かったのですが、それを支えていた要素の一つが**BFFの導入**だったと思います
BFFとは、バックエンド側とフロントエンド側の中間に配置され、データの整形やAPIの集約を担うこと両者を分離などを担うサーバーのことです

これのおかげで、フロント側はBFFサーバーに問い合わせをするだけでよく、開発タスクの依存関係を大幅に解消できました。たとえば、感情分析やspotifyのAPIコールの実装や整形処理が終わる前でも、フロントがほしい項目のダミーを一時的にBFFから渡すようにしておけば、その値に依存する開発をAPIコールの実装と同時進行で行うことができます。
 ### 開発フロー
 事前に今回はアジャイルでやるぞ！ということにしていたのですが、これも効果的だったと思います。サイクルが終わるタイミングで定例mtgを行うことで、各々やるべきことが結構見えてる状態で開発期間をの大半を過ごせた、と思っています
 アジャイルのサイクル管理と、上記のBFFを併せて、タスク依存関係のごちゃつきが原因で人的リソースを無駄にすることはほとんどなかったはずです。何回も言いますが今回の開発体験はかなり最高でした

### 結果

というわけで、最高の開発体験によって締切の10時間前くらいにはほぼ全ての機能が実装できたくらいには順調に進み、結構おもしろプロダクトができたので、もしかしたらいい結果得られるかも？みたいな雰囲気でした


ただ、受賞は叶わずでした。結構悔しかったです。

##　#反省
受賞してるチームのプロダクトやプレゼンを見ると、「UI UXが洗練されている」「技術や開発フローにちゃんと時間を割いて喋っている」そして何より、「明確な課題解決を行なっている」なぁ、という感想を持ちました。

僕らのプロダクトは、アイデア段階でまず「テキストから音楽が生成できたらおもしろそう」という提案があり、それに賛成して制作を始めたので、「課題解決」の視点はその時はありませんでした。

発表資料作成の時点で「テキストでは公開しづらいようなことも、音楽でなら表現できる」というストーリーを付加したのですが、課題を提示して解決している、という印象はあまり付けられなかったのかな、と思います。、、ああ本当に、本当に悔しい！

ここからは細かい反省を上げていきます。
まずプレゼンでデモに時間をかけ過ぎたかなぁ、と思っています。デモ動画と同時進行で機能を説明していたのですが、これはおそらく悪手でした。録画したデモ動画に喋りを合わせようとするあまり、伝えたいことを効果的に伝えられなかったからです。ちゃんと前もってスライドで機能の凄さ、有用さを理解させてから、デモは「ちゃんと動きますよ、」を示す程度に留めるべきでしたね。

喋りとデモ動画のインパクトはフィードバックでも評価してもらえたのですが、それよりも大事なこと、プロダクトの良さを伝えることを犠牲にしてしまっては宝の持ち腐れというやつですね。というか今回、僕の意識が「印象に残す」に偏重しすぎでした。

次は勝ちます。